# セキュリティ運用・脆弱性対応ガイド

このドキュメントは、pantry-plannerプロジェクトのセキュリティ運用・脆弱性対応・シークレット管理・依存パッケージ管理等の方針をまとめたものです。

## 1. セキュリティ基本方針

- 最小権限の原則（必要な権限のみ付与）
- 機密情報・シークレットはGitHub Secrets/.envで厳格管理
- 依存パッケージの脆弱性は定期的にスキャン・アップデート
- API/DB/外部サービスへのアクセス制御
- XSS/CSRF/SQL Injection等の脅威対策

## 2. シークレット管理

- .envファイルはgit管理外（.gitignore）
- GitHub Actions等はSecrets/環境変数で管理
- シークレット漏洩時は即時ローテーション・影響範囲調査

## 3. 依存パッケージ管理

- `pnpm audit`/`npm audit`/Snyk等で定期スキャン
- 脆弱性検知時は速やかにアップデート・パッチ適用
- 重大脆弱性はIssue化・優先対応

## 4. 脆弱性対応フロー

1. 検知・報告（自動/手動）
2. 影響範囲調査・暫定対応
3. 恒久対応（アップデート・修正）
4. 再発防止策の策定

## 5. 開発時の注意

- ユーザー入力値のバリデーション・サニタイズ
- エラーメッセージに機密情報を含めない
- デバッグ用コード・バックドアの混入防止

---

詳細は各ガイドライン（env-config.md, dependency-management.md, error-handling.md等）を参照。
